
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Proyecto%20Final%20del%20semestre/">
      
      
        <link rel="next" href="../control%20de%20led%20con%20ESP32/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Visión por Computadora: Manipulación de Video y Tracking de Objetos (Python/OpenCV) - Plantilla para Documentación</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#vision-por-computadora-manipulacion-de-video-y-tracking-de-objetos-pythonopencv" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Plantilla para Documentación" class="md-header__button md-logo" aria-label="Plantilla para Documentación" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Plantilla para Documentación
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Visión por Computadora: Manipulación de Video y Tracking de Objetos (Python/OpenCV)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Plantilla para Documentación" class="md-nav__button md-logo" aria-label="Plantilla para Documentación" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Plantilla para Documentación
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Portafolio Ibero
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Control%20de%20motores%20DC%20con%20ESP32%20y%20Puente%20H/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prácticas – Control de Motores DC con ESP32 y Puente H
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Control%20de%20un%20Servo%20con%20un%20ESP32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividad 7: Control Angular de Servomotor con ESP32
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Creear%20una%20p%C3%A1gina%20web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Creear una página web
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Equipo%20de%20trabajo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Equipo de Trabajo.
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LED%20intermitente%20con%20temporizador%20555/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LED intermitente con temporizador 555 en modo astable
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Presentacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acerca de mi
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Proyecto%201%20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proyecto Final: Carro Robot de Fútbol Controlado por PS4 (ESP32)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Proyecto%20Final%20del%20semestre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Proyecto Final de Semestre: Plataforma de Balance de Pelota (Ball Balancing Platform)
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Visión por Computadora: Manipulación de Video y Tracking de Objetos (Python/OpenCV)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Visión por Computadora: Manipulación de Video y Tracking de Objetos (Python/OpenCV)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entornos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entornos
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-captura-basica-y-visualizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Captura básica y visualización
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-conversion-a-bn" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Conversion a B/N
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-manipulacion-de-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Manipulación de color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-tonos-azules-y-rgb-bgr" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Tonos azules y RGB -&gt; BGR
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-filtro-amarillo" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Filtro Amarillo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-tonos-rosados" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Tonos Rosados
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superponer-figuras" class="md-nav__link">
    <span class="md-ellipsis">
      
        Superponer figuras
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dibujo-de-linea-y-rectangulo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dibujo de línea y rectángulo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-linea-rectangulo-circulo-y-animacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Línea, Rectángulo, Círculo y Animación
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-division-de-la-camara-por-secciones-de-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Division de la camara por secciones de color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seguimiento-de-objeto-y-control-remoto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Seguimiento de objeto y control remoto
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deteccion-y-tracking-por-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deteccion y tracking por color
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../control%20de%20led%20con%20ESP32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Control de LED con ESP32 (botón, Bluetooth e intervalos)
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#entornos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entornos
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-captura-basica-y-visualizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Captura básica y visualización
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-conversion-a-bn" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1 Conversion a B/N
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-manipulacion-de-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Manipulación de color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-tonos-azules-y-rgb-bgr" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1 Tonos azules y RGB -&gt; BGR
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-filtro-amarillo" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2 Filtro Amarillo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-tonos-rosados" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3 Tonos Rosados
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superponer-figuras" class="md-nav__link">
    <span class="md-ellipsis">
      
        Superponer figuras
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dibujo-de-linea-y-rectangulo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dibujo de línea y rectángulo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-linea-rectangulo-circulo-y-animacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2 Línea, Rectángulo, Círculo y Animación
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#33-division-de-la-camara-por-secciones-de-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3 Division de la camara por secciones de color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seguimiento-de-objeto-y-control-remoto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Seguimiento de objeto y control remoto
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deteccion-y-tracking-por-color" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deteccion y tracking por color
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="vision-por-computadora-manipulacion-de-video-y-tracking-de-objetos-pythonopencv">Visión por Computadora: Manipulación de Video y Tracking de Objetos (Python/OpenCV)</h1>
<p>Esta sección documenta diversas prácticas de Visión por Computadora realizadas con Python y la librería OpenCV (cv2). Los ejercicios demuestran la capacidad de adquirir streams de video en tiempo real, aplicar filtros de procesamiento de imágenes, superponer gráficos y, finalmente, implementar un sistema avanzado de seguimiento de objetos por color con capacidad de control externo mediante Bluetooth.</p>
<h2 id="entornos">Entornos</h2>
<p><img src="../recursos/imgs/entornos.jpg" width="400" alt="coche"></p>
<h2 id="1-captura-basica-y-visualizacion">1. Captura básica y visualización</h2>
<p>Establece la conexión con la cámara (cv2.VideoCapture(0)) y muestra el stream hasta que se presiona la tecla 'q'. </p>
<p>cpp
import cv2 </p>
<p>video = cv2.VideoCapture(0) </p>
<p>while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>cv2.imshow("Video", frame)  </p>
<p># Salida del bucle 
   if cv2.waitKey(1) &amp; 0xFF == ord('q'):<br />
       break </p>
<p>video.release()<br />
cv2.destroyAllWindows() </p>
<h2 id="11-conversion-a-bn">1.1 Conversion a B/N</h2>
<p>Aplica un filtro de color para transformar el video capturado a escala de grises, reduciendo la complejidad de la imagen a una sola dimensión de intensidad. Este es un paso fundamental en muchos algoritmos de visión por computadora para la detección de bordes y el procesamiento eficiente. </p>
<p><img src="../recursos/imgs/bn.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy()  </p>
<p># Convertir el fotograma a escala de grises 
   dibujo = cv2.cvtColor(dibujo, cv2.COLOR_BGR2GRAY)  </p>
<p>cv2.imshow("Video", frame)<br />
   cv2.imshow("VIDEO_GRIS", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="2-manipulacion-de-color">2. Manipulación de color</h2>
<h2 id="21-tonos-azules-y-rgb-bgr">2.1 Tonos azules y RGB -&gt; BGR</h2>
<p>Al convertir de BGR (formato nativo de OpenCV) a RGB (formato estándar de visualización), el orden de los canales se invierte. Esta reordenación produce un predominio de tonos azules y cianes en la visualización, ya que los valores asignados al canal Azul se mueven al canal Rojo (índice 2) y viceversa. </p>
<p><img src="../recursos/imgs/filtroazul.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy()  </p>
<p># Conversión simple BGR a RGB (Reordenamiento de canales) 
   dibujo = cv2.cvtColor(dibujo, cv2.COLOR_BGR2RGB)  </p>
<p>cv2.imshow("ORIGINAL", frame) 
   cv2.imshow("FILTRO AZUL", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="22-filtro-amarillo">2.2 Filtro Amarillo</h2>
<p>Para generar una fuerte predominancia de tonos amarillos y rojos (que combinados tienden al amarillo), se anula completamente el canal Azul. En la matriz de imagen BGR utilizada por OpenCV, el canal Azul se encuentra en el índice 0. </p>
<p>cpp
import cv2 
import numpy as np </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy()  </p>
<p># Anular el canal azul: [:, :, 0] = 0 
   # Esto deja activos solo los canales Verde (1) y Rojo (2), resultando en tonos amarillos. 
   dibujo[:, :, 0] = 0  </p>
<p>cv2.imshow("ORIGINAL", frame) 
   cv2.imshow("FILTRO AMARILLO", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="23-tonos-rosados">2.3 Tonos Rosados</h2>
<p>Para obtener una dominante de tonos rosados o magenta, se utiliza la combinación de los canales Rojo y Azul mientras se anula completamente el canal Verde. En la matriz BGR de OpenCV, el canal Verde se encuentra en el índice 1. </p>
<p><img src="../recursos/imgs/filtrorosa.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 
import numpy as np </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy()  </p>
<p># Anular el canal verde: [:, :, 1] = 0 
   # Esto deja activos solo los canales Azul (0) y Rojo (2), resultando en tonos magenta/rosados. 
   dibujo[:, :, 1] = 0  </p>
<p>cv2.imshow("ORIGINAL", frame) 
   cv2.imshow("FILTRO ROSA", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="superponer-figuras">Superponer figuras</h2>
<p>Esta sección demuestra la capacidad de dibujar figuras geométricas (líneas, rectángulos, círculos) y texto sobre los fotogramas del video en tiempo real. Esta técnica es esencial para el tracking, ya que permite visualizar el centro de los objetos, las áreas de interés (ROI) o los cuadros delimitadores. </p>
<h2 id="dibujo-de-linea-y-rectangulo">Dibujo de línea y rectángulo</h2>
<p>Este script dibuja una línea diagonal de esquina a esquina y un rectángulo delimitador que enmarca el video. </p>
<p><img src="../recursos/imgs/rayaycuadrado.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy() </p>
<p># Línea diagonal: Dibuja una línea roja desde la esquina superior izquierda (0,0) a la inferior derecha (640, 480). 
   cv2.line(dibujo, (0, 0), (640, 480), (0, 0, 225), thickness=3, lineType=cv2.LINE_AA)  </p>
<p># Rectángulo de marco: Dibuja un rectángulo azul alrededor del borde de la imagen. 
   cv2.rectangle(dibujo, (0, 0), (640, 480), (255, 0, 0), thickness=10, lineType=cv2.LINE_AA)  </p>
<p>cv2.imshow("Video", frame) 
   cv2.imshow("VIDEO02", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="32-linea-rectangulo-circulo-y-animacion">3.2 Línea, Rectángulo, Círculo y Animación</h2>
<p>Este ejercicio combina varias figuras geométricas y introduce el concepto de animación usando variables dinámicas (cx, cy). La actualización constante de estas variables simula el movimiento del círculo a través del frame, lo cual representa un concepto clave para visualizar el centro de un objeto en movimiento en aplicaciones de tracking. </p>
<p><img src="../recursos/imgs/contextoyfiguras.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 </p>
<p>video = cv2.VideoCapture(0) 
cx = 0<br />
cy = 0  </p>
<p>while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy() </p>
<p># Figuras estáticas 
   cv2.line(dibujo, (0, 0), (640, 480), (0, 0, 225), thickness=3, lineType=cv2.LINE_AA) 
   cv2.rectangle(dibujo, (0, 0), (640, 480), (255, 0, 0), thickness=10, lineType=cv2.LINE_AA) </p>
<p># Círculo animado (centro en cx, cy) 
   cv2.circle(dibujo, (cx, cy), 100, (255, 0, 0), thickness=10, lineType=cv2.LINE_AA) </p>
<p># Texto Fijo 
   cv2.putText(dibujo, "TEXTO FIJO", (320, 240), cv2.FONT_HERSHEY_SIMPLEX, 2, (255, 0, 0), thickness=2, lineType=cv2.LINE_AA) </p>
<p># Actualización de posición para animación 
   # El operador módulo (%) asegura que la posición se reinicie al llegar al borde (640x480). 
   cx = (cx + 1) % 640<br />
   cy = (cy + 1) % 480  </p>
<p>cv2.imshow("Video", frame) 
   cv2.imshow("VIDEO02", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="33-division-de-la-camara-por-secciones-de-color">3.3 Division de la camara por secciones de color</h2>
<p>Este ejercicio demuestra el concepto de Región de Interés (ROI) a través de la indexación de matrices de NumPy. Se aplica un filtro de color diferente a cada cuadrante del frame al anular selectivamente un canal de color en una porción específica de la matriz de la imagen. </p>
<p><img src="../recursos/imgs/mascara.jpg" width="400" alt="coche"></p>
<p>cpp
import cv2 
import numpy as np </p>
<p>video = cv2.VideoCapture(0) 
while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy()  </p>
<p># Cuadrante 1 (Superior Izquierdo): Anular Canal Verde 
   # Esto resulta en tonos magenta/rosados (Rojo + Azul). 
   # Coordenadas: [Filas 0:240 (Y), Columnas 0:320 (X), Canal Verde (1)] = 0 
   dibujo[0:240, 0:320, 1] = 0  </p>
<p># Cuadrante 2 (Inferior Derecho): Anular Canal Azul 
   # Esto resulta en tonos amarillos (Rojo + Verde). 
   # Coordenadas: [Filas 240:480 (Y), Columnas 320:640 (X), Canal Azul (0)] = 0 
   dibujo[240:480, 320:640, 0] = 0 </p>
<p>cv2.imshow("Video", frame)<br />
   cv2.imshow("VIDEO02", dibujo) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="seguimiento-de-objeto-y-control-remoto">Seguimiento de objeto y control remoto</h2>
<p>Estos códigos aplican la segmentación por color HSV y el cálculo de contornos para localizar el objeto más grande en el frame y calcular su desviación respecto al centro. Esto simula la lógica de un sistema de seguimiento que podría ser utilizado para controlar un sistema robótico. </p>
<video width="400" controls>
  <source src="../recursos/imgs/videoseguimiento.mp4" type="video/mp4">
</video>

<video width="400" controls>
  <source src="../recursos/imgs/videoseguimiento2.mp4" type="video/mp4">
</video>

<h2 id="deteccion-y-tracking-por-color">Deteccion y tracking por color</h2>
<p>Este script localiza un objeto de color azul específico, calcula su posición (x, y) y la compara con el centro del frame para determinar el error direccional (ErrorX, ErrorY), imprimiéndolo en la consola.  </p>
<p>cpp
import cv2 
import numpy as np 
import time </p>
<p>video = cv2.VideoCapture(0) </p>
<h1 id="rango-de-color-azul-en-hsv">Rango de color azul en HSV</h1>
<p>bajo = np.array([90, 50, 20], dtype=np.uint8) 
alto = np.array([145, 255, 255], dtype=np.uint8) </p>
<p>while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy() 
   hsv = cv2.cvtColor(dibujo, cv2.COLOR_BGR2HSV) </p>
<p># 1. Segmentación por Color (Máscara) 
   mask = cv2.inRange(hsv, bajo, alto) 
   result = cv2.bitwise_and(frame, frame, mask=mask) </p>
<p># 2. Encontrar Contornos 
   lista_cont, herarquia = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE) </p>
<p># 3. Identificar el Contorno Más Grande (el objeto de interés principal) 
   area_grande = 0 
   contorno_pelota = None 
   if lista_cont: 
       for contn in lista_cont: 
           area = cv2.contourArea(contn) 
           if (area &gt; area_grande): 
               area_grande = area 
               contorno_pelota = contn </p>
<p># 4. Calcular Centro y Radio del Círculo Envolvente 
   if contorno_pelota is not None: 
       (x,y),radio = cv2.minEnclosingCircle(contorno_pelota) </p>
<div class="language-text highlight"><pre><span></span><code>   # Dibujar el círculo y el punto central de seguimiento 
   cv2.circle(frame,(int(x),int(y)),int(radio),(0,255,0),3) 
   cv2.circle(frame,(int(x),int(y)),3, (0,255,0),3)

   # 5. Calcular el Error (Desviación respecto al centro del frame) 
   h = frame.shape[0]  
   w = frame.shape[1]

   errorx = x - (w / 2)  
   errory = y - (h / 2)

   print(f&quot;ErrorX: {errorx:.1f}, ErrorY: {errory:.1f}&quot;)

   # 6. Imprimir la Dirección de Corrección (Lógica de control) 
   if (errorx &gt; 0): 
       print(&quot;IZQUIERDA&quot;) # El objeto está a la derecha del centro (ErrorX positivo), el robot debe girar a la IZQUIERDA. 
   elif(errorx &lt; 0): 
       print(&quot;DERECHA&quot;) # El objeto está a la izquierda del centro (ErrorX negativo), el robot debe girar a la DERECHA.

   if (errory &gt; 0): 
       print(&quot;ABAJO&quot;) 
   elif(errory &lt; 0): 
       print(&quot;ARRIBA&quot;)
</code></pre></div>
<p>time.sleep(0.5) </p>
<p># Visualizaciones en tiempo real 
   cv2.imshow("MASK (Blanco: Azul detectado)", mask) 
   cv2.imshow("Objeto Azul sobre Fondo Negro", result) 
   cv2.imshow("Video Original (Tracking)", frame) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>video.release() 
cv2.destroyAllWindows() </p>
<h2 id="42-tracking-con-bluetooth">4.2 Tracking con Bluetooth</h2>
<p>Este es el ejercicio más avanzado, ya que extiende la lógica de tracking local añadiendo la comunicación serial inalámbrica mediante un socket Bluetooth. El script envía comandos direccionales (IZQUIERDA, DERECHA, CENTRO, etc.) a un dispositivo externo (como un microcontrolador ESP32 o Arduino con módulo Bluetooth), permitiendo el control autónomo de un robot o actuador basado en la visión por computadora. </p>
<p>cpp
import cv2 
import numpy as np 
import time 
import bluetooth  </p>
<h1 id="conexion-bluetooth-con-esp32">======== CONEXIÓN BLUETOOTH CON ESP32 ========</h1>
<p>port = 1 </p>
<h1 id="crea-el-socket-bluetooth-usando-el-protocolo-rfcomm-usado-para-serial">Crea el socket Bluetooth usando el protocolo RFCOMM (usado para serial)</h1>
<p>sock = bluetooth.BluetoothSocket(bluetooth.RFCOMM)<br />
sock.settimeout(20) </p>
<p>MAC_ADDRESS = "10:06:1C:97:72:DA" # &lt;-- ¡REEMPLAZAR CON TU DIRECCIÓN MAC! </p>
<p>print("Intentando conectar con el ESP32...") 
while True: 
   try: 
       # Intenta conectar con la dirección MAC y el puerto especificados 
       sock.connect((MAC_ADDRESS, port))<br />
       print("¡Conectado al ESP32!") 
       break 
   except Exception as e: 
       print(f"Error en la conexión. Reintentando: {e}") 
   time.sleep(1) </p>
<h1 id="configuracion-de-la-camara-y-deteccion">======== CONFIGURACIÓN DE LA CÁMARA Y DETECCIÓN ========</h1>
<p>video = cv2.VideoCapture(0) </p>
<h1 id="rango-de-color-azul-en-hsv_1">Rango de color azul en HSV</h1>
<p>bajo = np.array([90, 50, 20], dtype=np.uint8) 
alto = np.array([145, 255, 255], dtype=np.uint8) </p>
<p>while True: 
   ret, frame = video.read() 
   if not ret: 
       break </p>
<p>dibujo = frame.copy() 
   hsv = cv2.cvtColor(dibujo, cv2.COLOR_BGR2HSV) 
   mask = cv2.inRange(hsv, bajo, alto) 
   result = cv2.bitwise_and(frame, frame, mask=mask) </p>
<p>lista_cont, herarquia = cv2.findContours(mask, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE) </p>
<p># Lógica de Detección de Contorno (Buscar el más grande) 
   if len(lista_cont) &gt; 0: 
       area_grande = 0 
       contorno_pelota = None 
       for contn in lista_cont: 
           area = cv2.contourArea(contn) 
           if area &gt; area_grande: 
               area_grande = area 
               contorno_pelota = contn </p>
<div class="language-text highlight"><pre><span></span><code>   if contorno_pelota is not None: 
       (x, y), radio = cv2.minEnclosingCircle(contorno_pelota)

       # Dibujar en el frame para visualización 
       cv2.circle(frame, (int(x), int(y)), int(radio), (0, 255, 0), 3) 
       cv2.circle(frame, (int(x), int(y)), 3, (0, 255, 0), 3)

       h = frame.shape[0] 
       w = frame.shape[1]

       errorx = x - (w / 2) # Desviación horizontal 
       errory = y - (h / 2) # Desviación vertical

       # ======== ENVÍO DE COMANDOS AL ESP32 ======== 
       try: 
           # Umbrales de corrección (50 píxeles): Evita el &quot;ruido&quot; 
           if errorx &gt; 50: 
               mensaje = &quot;IZQUIERDA&quot;  
           elif errorx &lt; -50: 
               mensaje = &quot;DERECHA&quot;  
           elif errory &lt; -50: 
               mensaje = &quot;ARRIBA&quot;  
           elif errory &gt; 50: 
               mensaje = &quot;ABAJO&quot;  
           else: 
               mensaje = &quot;CENTRO&quot;

           # Envío del mensaje codificado a través del socket 
           sock.send(mensaje.encode(&#39;utf-8&#39;)) 
           print(&quot;Enviado:&quot;, mensaje)

       except Exception as e: 
           print(&quot;Error al enviar datos:&quot;, e)
</code></pre></div>
<p># ======== MOSTRAR RESULTADOS ======== 
   cv2.imshow("MASK (Blanco: Azul detectado)", mask) 
   cv2.imshow("Objeto Azul sobre Fondo Negro", result) 
   cv2.imshow("Video Original (Tracking + Bluetooth)", frame) </p>
<p>if cv2.waitKey(1) &amp; 0xFF == ord('q'): 
       break </p>
<p>time.sleep(0.3) # Controla la velocidad de procesamiento y comandos </p>
<p>video.release() 
cv2.destroyAllWindows() 
sock.close() # Cierra la conexión Bluetooth </p>
<h2 id="conclusion-y-futuro">Conclusion y futuro</h2>
<p>El desarrollo de este portafolio subraya la capacidad esencial de OpenCV y Python para transformar una fuente de video cruda en datos procesables, abarcando desde la manipulación básica de píxeles (filtros y conversión de color BGR a HSV) hasta la implementación de complejos algoritmos de Visión por Computadora (CV) para el seguimiento de objetos (tracking). La práctica más significativa fue la exitosa integración de la CV con la comunicación inalámbrica (Bluetooth), demostrando cómo calcular el error direccional (ErrorX, ErrorY) de un objeto de interés y convertir esa desviación en comandos de control (IZQUIERDA, DERECHA). Este proceso establece un puente funcional entre el mundo digital (visión) y el mundo físico (robótica), siendo el principio rector de los sistemas de automatización y el control robótico basado en visión.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "content.tooltips"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>